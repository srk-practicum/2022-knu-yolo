{"cells":[{"cell_type":"markdown","metadata":{"id":"MMAXD2Bg3fAl"},"source":["### Kaggle Competition | Titanic Machine Learning from Disaster\n","\n",">The sinking of the RMS Titanic is one of the most infamous shipwrecks in history.  On April 15, 1912, during her maiden voyage, the Titanic sank after colliding with an iceberg, killing 1502 out of 2224 passengers and crew.  This sensational tragedy shocked the international community and led to better safety regulations for ships.\n","\n",">One of the reasons that the shipwreck led to such loss of life was that there were not enough lifeboats for the passengers and crew.  Although there was some element of luck involved in surviving the sinking, some groups of people were more likely to survive than others, such as women, children, and the upper-class.\n","\n",">In this contest, we ask you to complete the analysis of what sorts of people were likely to survive.  In particular, we ask you to apply the tools of machine learning to predict which passengers survived the tragedy.\n","\n",">This Kaggle Getting Started Competition provides an ideal starting place for people who may not have a lot of experience in data science and machine learning.\"\n","\n","From the competition [homepage](http://www.kaggle.com/c/titanic-gettingStarted).\n","\n","\n","### Goal for this Notebook:\n","Make a simple analysis of the Titanic disaster in Python using a full complement of PyData utilities.\n","\n","#### Required Libraries:\n","* [NumPy](http://www.numpy.org/)\n","* [IPython](http://ipython.org/)\n","* [Pandas](http://pandas.pydata.org/)\n","* [SciKit-Learn](http://scikit-learn.org/stable/)\n","* [SciPy](http://www.scipy.org/)\n","* [Matplotlib](http://matplotlib.org/)\n","\n","***The competition's website is located on [Kaggle.com](http://www.kaggle.com/c/titanic-gettingStarted).***"]},{"cell_type":"code","execution_count":13,"metadata":{"id":"fQey2NMy3fAw","executionInfo":{"status":"ok","timestamp":1644240751736,"user_tz":-180,"elapsed":238,"user":{"displayName":"Александр Коник","photoUrl":"https://lh3.googleusercontent.com/a-/AOh14Ghx-tzs65Dekj5kF6Q1BM2aaCFEo5PgwwUz8uQqBA=s64","userId":"12532542028112369951"}}},"outputs":[],"source":["import matplotlib.pyplot as plt\n","%matplotlib inline\n","import numpy as np\n","import pandas as pd\n","import seaborn as sns\n","from sklearn.preprocessing import OneHotEncoder\n","from sklearn.preprocessing import StandardScaler\n","from sklearn.svm import SVC\n","from sklearn.metrics import classification_report, accuracy_score, confusion_matrix\n","from sklearn.linear_model import LogisticRegression\n","from sklearn.ensemble import RandomForestClassifier"]},{"cell_type":"markdown","metadata":{"id":"bhp18NQo3fAy"},"source":["### Data Handling\n","#### Read data (training set) in using pandas:"]},{"cell_type":"code","execution_count":7,"metadata":{"id":"J5LILRd_8NO5","executionInfo":{"status":"ok","timestamp":1644240186106,"user_tz":-180,"elapsed":470,"user":{"displayName":"Александр Коник","photoUrl":"https://lh3.googleusercontent.com/a-/AOh14Ghx-tzs65Dekj5kF6Q1BM2aaCFEo5PgwwUz8uQqBA=s64","userId":"12532542028112369951"}}},"outputs":[],"source":["data='/content/sample_data/train.csv'\n","df = pd.read_csv(data)"]},{"cell_type":"code","source":[""],"metadata":{"id":"y1CxIv-sqiHI"},"execution_count":null,"outputs":[]},{"cell_type":"markdown","source":[""],"metadata":{"id":"9vD4tAhcnr4d"}},{"cell_type":"markdown","metadata":{"id":"n5eT1bfh3fA0"},"source":["Show an overview of our data: "]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":991},"executionInfo":{"elapsed":369,"status":"ok","timestamp":1643574093638,"user":{"displayName":"Александр Коник","photoUrl":"https://lh3.googleusercontent.com/a-/AOh14Ghx-tzs65Dekj5kF6Q1BM2aaCFEo5PgwwUz8uQqBA=s64","userId":"12532542028112369951"},"user_tz":-180},"id":"YNTiYmrA3fA1","outputId":"0f674f97-0b71-4dfe-8653-003b901332ce"},"outputs":[{"data":{"text/html":["\n","  <div id=\"df-1b150f33-b0cb-4c83-9b06-02099d85679c\">\n","    <div class=\"colab-df-container\">\n","      <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>PassengerId</th>\n","      <th>Survived</th>\n","      <th>Pclass</th>\n","      <th>Name</th>\n","      <th>Sex</th>\n","      <th>Age</th>\n","      <th>SibSp</th>\n","      <th>Parch</th>\n","      <th>Ticket</th>\n","      <th>Fare</th>\n","      <th>Cabin</th>\n","      <th>Embarked</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>1</td>\n","      <td>0</td>\n","      <td>3</td>\n","      <td>Braund, Mr. Owen Harris</td>\n","      <td>male</td>\n","      <td>22.0</td>\n","      <td>1</td>\n","      <td>0</td>\n","      <td>A/5 21171</td>\n","      <td>7.2500</td>\n","      <td>NaN</td>\n","      <td>S</td>\n","    </tr>\n","    <tr>\n","      <th>1</th>\n","      <td>2</td>\n","      <td>1</td>\n","      <td>1</td>\n","      <td>Cumings, Mrs. John Bradley (Florence Briggs Th...</td>\n","      <td>female</td>\n","      <td>38.0</td>\n","      <td>1</td>\n","      <td>0</td>\n","      <td>PC 17599</td>\n","      <td>71.2833</td>\n","      <td>C85</td>\n","      <td>C</td>\n","    </tr>\n","    <tr>\n","      <th>2</th>\n","      <td>3</td>\n","      <td>1</td>\n","      <td>3</td>\n","      <td>Heikkinen, Miss. Laina</td>\n","      <td>female</td>\n","      <td>26.0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>STON/O2. 3101282</td>\n","      <td>7.9250</td>\n","      <td>NaN</td>\n","      <td>S</td>\n","    </tr>\n","    <tr>\n","      <th>3</th>\n","      <td>4</td>\n","      <td>1</td>\n","      <td>1</td>\n","      <td>Futrelle, Mrs. Jacques Heath (Lily May Peel)</td>\n","      <td>female</td>\n","      <td>35.0</td>\n","      <td>1</td>\n","      <td>0</td>\n","      <td>113803</td>\n","      <td>53.1000</td>\n","      <td>C123</td>\n","      <td>S</td>\n","    </tr>\n","    <tr>\n","      <th>4</th>\n","      <td>5</td>\n","      <td>0</td>\n","      <td>3</td>\n","      <td>Allen, Mr. William Henry</td>\n","      <td>male</td>\n","      <td>35.0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>373450</td>\n","      <td>8.0500</td>\n","      <td>NaN</td>\n","      <td>S</td>\n","    </tr>\n","    <tr>\n","      <th>...</th>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","    </tr>\n","    <tr>\n","      <th>886</th>\n","      <td>887</td>\n","      <td>0</td>\n","      <td>2</td>\n","      <td>Montvila, Rev. Juozas</td>\n","      <td>male</td>\n","      <td>27.0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>211536</td>\n","      <td>13.0000</td>\n","      <td>NaN</td>\n","      <td>S</td>\n","    </tr>\n","    <tr>\n","      <th>887</th>\n","      <td>888</td>\n","      <td>1</td>\n","      <td>1</td>\n","      <td>Graham, Miss. Margaret Edith</td>\n","      <td>female</td>\n","      <td>19.0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>112053</td>\n","      <td>30.0000</td>\n","      <td>B42</td>\n","      <td>S</td>\n","    </tr>\n","    <tr>\n","      <th>888</th>\n","      <td>889</td>\n","      <td>0</td>\n","      <td>3</td>\n","      <td>Johnston, Miss. Catherine Helen \"Carrie\"</td>\n","      <td>female</td>\n","      <td>NaN</td>\n","      <td>1</td>\n","      <td>2</td>\n","      <td>W./C. 6607</td>\n","      <td>23.4500</td>\n","      <td>NaN</td>\n","      <td>S</td>\n","    </tr>\n","    <tr>\n","      <th>889</th>\n","      <td>890</td>\n","      <td>1</td>\n","      <td>1</td>\n","      <td>Behr, Mr. Karl Howell</td>\n","      <td>male</td>\n","      <td>26.0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>111369</td>\n","      <td>30.0000</td>\n","      <td>C148</td>\n","      <td>C</td>\n","    </tr>\n","    <tr>\n","      <th>890</th>\n","      <td>891</td>\n","      <td>0</td>\n","      <td>3</td>\n","      <td>Dooley, Mr. Patrick</td>\n","      <td>male</td>\n","      <td>32.0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>370376</td>\n","      <td>7.7500</td>\n","      <td>NaN</td>\n","      <td>Q</td>\n","    </tr>\n","  </tbody>\n","</table>\n","<p>891 rows × 12 columns</p>\n","</div>\n","      <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-1b150f33-b0cb-4c83-9b06-02099d85679c')\"\n","              title=\"Convert this dataframe to an interactive table.\"\n","              style=\"display:none;\">\n","        \n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","       width=\"24px\">\n","    <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n","    <path d=\"M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z\"/><path d=\"M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z\"/>\n","  </svg>\n","      </button>\n","      \n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      flex-wrap:wrap;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","      <script>\n","        const buttonEl =\n","          document.querySelector('#df-1b150f33-b0cb-4c83-9b06-02099d85679c button.colab-df-convert');\n","        buttonEl.style.display =\n","          google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","        async function convertToInteractive(key) {\n","          const element = document.querySelector('#df-1b150f33-b0cb-4c83-9b06-02099d85679c');\n","          const dataTable =\n","            await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                     [key], {});\n","          if (!dataTable) return;\n","\n","          const docLinkHtml = 'Like what you see? Visit the ' +\n","            '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","            + ' to learn more about interactive tables.';\n","          element.innerHTML = '';\n","          dataTable['output_type'] = 'display_data';\n","          await google.colab.output.renderOutput(dataTable, element);\n","          const docLink = document.createElement('div');\n","          docLink.innerHTML = docLinkHtml;\n","          element.appendChild(docLink);\n","        }\n","      </script>\n","    </div>\n","  </div>\n","  "],"text/plain":["     PassengerId  Survived  Pclass  ...     Fare Cabin  Embarked\n","0              1         0       3  ...   7.2500   NaN         S\n","1              2         1       1  ...  71.2833   C85         C\n","2              3         1       3  ...   7.9250   NaN         S\n","3              4         1       1  ...  53.1000  C123         S\n","4              5         0       3  ...   8.0500   NaN         S\n","..           ...       ...     ...  ...      ...   ...       ...\n","886          887         0       2  ...  13.0000   NaN         S\n","887          888         1       1  ...  30.0000   B42         S\n","888          889         0       3  ...  23.4500   NaN         S\n","889          890         1       1  ...  30.0000  C148         C\n","890          891         0       3  ...   7.7500   NaN         Q\n","\n","[891 rows x 12 columns]"]},"execution_count":8,"metadata":{},"output_type":"execute_result"}],"source":["df "]},{"cell_type":"markdown","metadata":{"id":"ad27EQkf3fA3"},"source":["### Learn more about the data:\n","\n","Above is a summary of data contained in a `Pandas` `DataFrame`. Think of a `DataFrame` as a Python's super charged version of the workflow in an Excel table. As you can see the summary holds quite a bit of information. First, it lets us know we have 891 observations, or passengers, to analyze here.\n","\n","Next it shows us all of the columns in `DataFrame`. Each column tells us something about each of our observations, like their `name`, `sex` or `age`. These colunms  are called a features of our dataset. You can think of the meaning of the words column and feature as interchangeable for this notebook. \n","\n","After each feature it lets us know how many values it contains. While most of our features have complete data on every observation, like the `survived` feature here: \n","\n","    survived    891  non-null values \n","\n","some are missing information, like the `age` feature: \n","\n","    age         714  non-null values \n","\n","These missing values are represented as `NaN`s.\n","\n","### Take care of missing values:\n","The features `ticket` and `cabin` have many missing values and so can’t add much value to our analysis. To handle this we will drop them from the dataframe to preserve the integrity of our dataset. Drop waste features.\n","\n","Also remove NaN values from each remaining column / feature.\n","\n","Now we have a clean and tidy dataset that is ready for analysis. \n","\n"]},{"cell_type":"code","execution_count":8,"metadata":{"executionInfo":{"elapsed":339,"status":"ok","timestamp":1644240189520,"user":{"displayName":"Александр Коник","photoUrl":"https://lh3.googleusercontent.com/a-/AOh14Ghx-tzs65Dekj5kF6Q1BM2aaCFEo5PgwwUz8uQqBA=s64","userId":"12532542028112369951"},"user_tz":-180},"id":"EMZbA3Aw3fA5","colab":{"base_uri":"https://localhost:8080/","height":728},"outputId":"414e7168-8aa1-4e4a-c389-c1b0a3debee7"},"outputs":[{"output_type":"execute_result","data":{"text/html":["\n","  <div id=\"df-7c461d2b-0702-47bd-8e20-e210b6f33598\">\n","    <div class=\"colab-df-container\">\n","      <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>PassengerId</th>\n","      <th>Survived</th>\n","      <th>Pclass</th>\n","      <th>Name</th>\n","      <th>Sex</th>\n","      <th>Age</th>\n","      <th>SibSp</th>\n","      <th>Parch</th>\n","      <th>Fare</th>\n","      <th>Embarked</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>1</td>\n","      <td>0</td>\n","      <td>3</td>\n","      <td>Braund, Mr. Owen Harris</td>\n","      <td>male</td>\n","      <td>22.0</td>\n","      <td>1</td>\n","      <td>0</td>\n","      <td>7.2500</td>\n","      <td>S</td>\n","    </tr>\n","    <tr>\n","      <th>1</th>\n","      <td>2</td>\n","      <td>1</td>\n","      <td>1</td>\n","      <td>Cumings, Mrs. John Bradley (Florence Briggs Th...</td>\n","      <td>female</td>\n","      <td>38.0</td>\n","      <td>1</td>\n","      <td>0</td>\n","      <td>71.2833</td>\n","      <td>C</td>\n","    </tr>\n","    <tr>\n","      <th>2</th>\n","      <td>3</td>\n","      <td>1</td>\n","      <td>3</td>\n","      <td>Heikkinen, Miss. Laina</td>\n","      <td>female</td>\n","      <td>26.0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>7.9250</td>\n","      <td>S</td>\n","    </tr>\n","    <tr>\n","      <th>3</th>\n","      <td>4</td>\n","      <td>1</td>\n","      <td>1</td>\n","      <td>Futrelle, Mrs. Jacques Heath (Lily May Peel)</td>\n","      <td>female</td>\n","      <td>35.0</td>\n","      <td>1</td>\n","      <td>0</td>\n","      <td>53.1000</td>\n","      <td>S</td>\n","    </tr>\n","    <tr>\n","      <th>4</th>\n","      <td>5</td>\n","      <td>0</td>\n","      <td>3</td>\n","      <td>Allen, Mr. William Henry</td>\n","      <td>male</td>\n","      <td>35.0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>8.0500</td>\n","      <td>S</td>\n","    </tr>\n","    <tr>\n","      <th>...</th>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","    </tr>\n","    <tr>\n","      <th>885</th>\n","      <td>886</td>\n","      <td>0</td>\n","      <td>3</td>\n","      <td>Rice, Mrs. William (Margaret Norton)</td>\n","      <td>female</td>\n","      <td>39.0</td>\n","      <td>0</td>\n","      <td>5</td>\n","      <td>29.1250</td>\n","      <td>Q</td>\n","    </tr>\n","    <tr>\n","      <th>886</th>\n","      <td>887</td>\n","      <td>0</td>\n","      <td>2</td>\n","      <td>Montvila, Rev. Juozas</td>\n","      <td>male</td>\n","      <td>27.0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>13.0000</td>\n","      <td>S</td>\n","    </tr>\n","    <tr>\n","      <th>887</th>\n","      <td>888</td>\n","      <td>1</td>\n","      <td>1</td>\n","      <td>Graham, Miss. Margaret Edith</td>\n","      <td>female</td>\n","      <td>19.0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>30.0000</td>\n","      <td>S</td>\n","    </tr>\n","    <tr>\n","      <th>889</th>\n","      <td>890</td>\n","      <td>1</td>\n","      <td>1</td>\n","      <td>Behr, Mr. Karl Howell</td>\n","      <td>male</td>\n","      <td>26.0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>30.0000</td>\n","      <td>C</td>\n","    </tr>\n","    <tr>\n","      <th>890</th>\n","      <td>891</td>\n","      <td>0</td>\n","      <td>3</td>\n","      <td>Dooley, Mr. Patrick</td>\n","      <td>male</td>\n","      <td>32.0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>7.7500</td>\n","      <td>Q</td>\n","    </tr>\n","  </tbody>\n","</table>\n","<p>712 rows × 10 columns</p>\n","</div>\n","      <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-7c461d2b-0702-47bd-8e20-e210b6f33598')\"\n","              title=\"Convert this dataframe to an interactive table.\"\n","              style=\"display:none;\">\n","        \n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","       width=\"24px\">\n","    <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n","    <path d=\"M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z\"/><path d=\"M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z\"/>\n","  </svg>\n","      </button>\n","      \n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      flex-wrap:wrap;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","      <script>\n","        const buttonEl =\n","          document.querySelector('#df-7c461d2b-0702-47bd-8e20-e210b6f33598 button.colab-df-convert');\n","        buttonEl.style.display =\n","          google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","        async function convertToInteractive(key) {\n","          const element = document.querySelector('#df-7c461d2b-0702-47bd-8e20-e210b6f33598');\n","          const dataTable =\n","            await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                     [key], {});\n","          if (!dataTable) return;\n","\n","          const docLinkHtml = 'Like what you see? Visit the ' +\n","            '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","            + ' to learn more about interactive tables.';\n","          element.innerHTML = '';\n","          dataTable['output_type'] = 'display_data';\n","          await google.colab.output.renderOutput(dataTable, element);\n","          const docLink = document.createElement('div');\n","          docLink.innerHTML = docLinkHtml;\n","          element.appendChild(docLink);\n","        }\n","      </script>\n","    </div>\n","  </div>\n","  "],"text/plain":["     PassengerId  Survived  Pclass  ... Parch     Fare  Embarked\n","0              1         0       3  ...     0   7.2500         S\n","1              2         1       1  ...     0  71.2833         C\n","2              3         1       3  ...     0   7.9250         S\n","3              4         1       1  ...     0  53.1000         S\n","4              5         0       3  ...     0   8.0500         S\n","..           ...       ...     ...  ...   ...      ...       ...\n","885          886         0       3  ...     5  29.1250         Q\n","886          887         0       2  ...     0  13.0000         S\n","887          888         1       1  ...     0  30.0000         S\n","889          890         1       1  ...     0  30.0000         C\n","890          891         0       3  ...     0   7.7500         Q\n","\n","[712 rows x 10 columns]"]},"metadata":{},"execution_count":8}],"source":["# Remove ticket and cabin features\n","df = df.drop(['Ticket', 'Cabin'], axis=1)\n","# Remove NaN values\n","df = df.dropna()\n","df"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"4i8syK1K8lZf"},"outputs":[],"source":["# Don't touch this cell\n","assert \"ticket\" not in df.columns\n","assert \"cabin\" not in df.columns\n","assert df.isna().sum().sum() == 0"]},{"cell_type":"markdown","metadata":{"id":"jLG-xK5t3fA6"},"source":["For a detailed look at how to use pandas for data analysis, the best resource is Wes Mckinney's [book](http://shop.oreilly.com/product/0636920023784.do). Additional interactive tutorials that cover all of the basics can be found [here](https://bitbucket.org/hrojas/learn-pandas) (they're free).  If you still need to be convinced about the power of pandas check out this wirlwhind [look](http://wesmckinney.com/blog/?p=647) at all that pandas can do. "]},{"cell_type":"markdown","metadata":{"id":"4p5-6okC3fA7"},"source":["### Let's take a Look at our data graphically:\n","\n","Plot 5 graphs in this section:\n","\n","\n","1.   Plots a bar graph of those who survived vs those who did not. \n","2.   Plots a Scatterplot of Survived distribution by Age\n","3.   Plots a bar graph of Class distribution\n","4.   Plots kernel density estimate of the passengers's age separately for all 3 classes\n","5.   Plots a bar graph of passengers per boarding location\n","\n"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":407,"output_embedded_package_id":"1elAi9t61WP1bpUF8HOpW-ruXTSJBfThZ"},"executionInfo":{"elapsed":38557,"status":"ok","timestamp":1644175365182,"user":{"displayName":"Александр Коник","photoUrl":"https://lh3.googleusercontent.com/a-/AOh14Ghx-tzs65Dekj5kF6Q1BM2aaCFEo5PgwwUz8uQqBA=s64","userId":"12532542028112369951"},"user_tz":-180},"id":"tMdpxz7J3fA8","outputId":"13355c9f-dca8-4a2b-8bb2-67779978eea7"},"outputs":[{"output_type":"display_data","data":{"text/plain":"Output hidden; open in https://colab.research.google.com to view."},"metadata":{}}],"source":["# specifies the parameters of our graphs\n","fig = plt.figure(figsize=(18,6), dpi=1600) \n","alpha=alpha_scatterplot = 0.2 \n","alpha_bar_chart = 0.55\n","\n","# plot many diffrent shaped graphs together \n","gr1 = plt.subplot2grid((2,3),(0,0))\n","plt.title(\"Distribution of Survival, (1 = Survived)\") \n","# plots a bar graph of those who surived vs those who did not.  \n","name = [\"Didn`t survived\", \"Survived\"]\n","amounts = df.Survived.value_counts()\n","gr1.bar(name, amounts)\n","\n","gr2 = plt.subplot2grid((2,3),(0,1))\n","plt.title(\"Survival by Age,  (1 = Survived)\")\n","ages = np.sort(pd.unique(df.Age))\n","\n","percentage = [100 * len(df[(df.Age == i) & (df.Survived == 1)]) / (df.Age == i).sum() for i in ages]\n","gr2.set_ylabel(\"Percentage\")\n","gr2.set_xlabel(\"Age\")\n","sns.scatterplot(x=ages, y=percentage)\n","\n","gr3 = plt.subplot2grid((2,3),(0,2))\n","plt.title(\"Class Distribution\")\n","pclasses = [\"1\", \"2\", \"3\"]\n","survived = [df[(df.Pclass==int(j)) & (df.Survived==1)].shape[0] for j in pclasses]\n","not_survived = [df[(df.Pclass==int(j)) & (df.Survived==0)].shape[0] for j in pclasses]\n","gr3.bar(pclasses, survived, color='blue', bottom=not_survived, label=\"Survived\")\n","gr3.bar(pclasses, not_survived, color='red', label=\"Not survived\")\n","\n","# plots a kernel density estimate of the passengers's age separately for all 3 classes\n","plt.subplot2grid((2,3),(1,0), colspan=2)\n","plt.title('Classes')\n","sns.kdeplot(data=df, x='Age', hue='Pclass', common_norm=False, palette='crest')\n","\n","gr5 = plt.subplot2grid((2,3),(1,2))\n","plt.title(\"Passengers per boarding location\")\n","boards = list(df.Embarked.unique())\n","survived = [df[(df.Embarked==i) & (df.Survived==1)].shape[0] for i in boards]\n","not_survived = [df[(df.Embarked==i) & (df.Survived==0)].shape[0] for i in boards]\n","gr5.bar(boards, survived, color='red', label=\"Survived\")\n","gr5.bar(boards, not_survived, color='blue', label=\"Not survived\")"]},{"cell_type":"markdown","metadata":{"id":"nRihWNpk3fA9"},"source":["### Exploratory Visualization:\n","\n","The point of this competition is to predict if an individual will survive based on the features in the data like:\n"," \n"," * Traveling Class (called pclass in the data)\n"," * Sex \n"," * Age\n"," * Fare Price\n","\n","Let’s see if we can gain a better understanding of who survived and died. \n","\n","\n","First plot a bar graph of those who Survived Vs. Those who did not.\n"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"-QXHr82g3fA-","colab":{"base_uri":"https://localhost:8080/","height":180},"executionInfo":{"status":"ok","timestamp":1643595627034,"user_tz":-180,"elapsed":376,"user":{"displayName":"Александр Коник","photoUrl":"https://lh3.googleusercontent.com/a-/AOh14Ghx-tzs65Dekj5kF6Q1BM2aaCFEo5PgwwUz8uQqBA=s64","userId":"12532542028112369951"}},"outputId":"1f647510-88f9-4cc3-c8d8-f99c525bf9e3"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["<BarContainer object of 2 artists>"]},"metadata":{},"execution_count":18},{"output_type":"display_data","data":{"image/png":"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\n","text/plain":["<Figure size 432x288 with 1 Axes>"]},"metadata":{"needs_background":"light"}}],"source":["gr1 = plt.subplot2grid((2,3),(0,0))\n","plt.title(\"Distribution of Survival, (1 = Survived)\") \n","name = [\"Dead\", \"Survived\"]\n","amounts = df.Survived.value_counts()\n","gr1.bar(name, amounts)"]},{"cell_type":"markdown","metadata":{"id":"-0wome_M3fA-"},"source":["### Next tease more structure out of the data,\n","### Break the previous graph down by gender\n"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"35p8zc7s3fA_","colab":{"base_uri":"https://localhost:8080/","height":385},"executionInfo":{"status":"ok","timestamp":1644175315168,"user_tz":-180,"elapsed":11,"user":{"displayName":"Александр Коник","photoUrl":"https://lh3.googleusercontent.com/a-/AOh14Ghx-tzs65Dekj5kF6Q1BM2aaCFEo5PgwwUz8uQqBA=s64","userId":"12532542028112369951"}},"outputId":"e56e6ee7-ef2e-457f-e9a6-57f957bf859e"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["<matplotlib.legend.Legend at 0x7fb3201e4890>"]},"metadata":{},"execution_count":15},{"output_type":"display_data","data":{"image/png":"iVBORw0KGgoAAAANSUhEUgAABBQAAAFlCAYAAABbWbtfAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAADh0RVh0U29mdHdhcmUAbWF0cGxvdGxpYiB2ZXJzaW9uMy4yLjIsIGh0dHA6Ly9tYXRwbG90bGliLm9yZy+WH4yJAAAfRElEQVR4nO3de7ReZX0n8O/PcAleRjBGFyVMgy1FSMFEjog6UxEGQeoAOtbCaEVhDTrjrRcvqGWpXTq2q7auYtUOrQ54KZeJZcFSW0EkyxuIJxIxGCmpBgmlEqNSpUCT9Jk/zk56CAdynpxbCJ/PWu969/tc9v7t/POefN9n712ttQAAAAD0eNRcFwAAAAA8/AgUAAAAgG4CBQAAAKCbQAEAAADoJlAAAAAAugkUAAAAgG57zHUBSfLEJz6xLV68eK7LAAAAALazcuXKH7XWFm7fvksECosXL87o6OhclwEAAABsp6punajdJQ8AAABAN4ECAAAA0E2gAAAAAHTbJe6hAAAAADNt06ZNWb9+fe699965LmWXNH/+/CxatCh77rnnpMYLFAAAAHhEWL9+fR73uMdl8eLFqaq5LmeX0lrLxo0bs379+hx00EGTmuOSBwAAAB4R7r333ixYsECYMIGqyoIFC7pWbwgUAAAAeMQQJjy43n8bgQIAAADMkqrKy1/+8m2fN2/enIULF+aFL3zhQ85bsWLFDsfMNvdQAAAA4JFpulcrtLbDIY95zGOyevXq3HPPPdlnn31y1VVX5YADDpjeOmaJFQoAAAAwi0466aR89rOfTZJcdNFFOf3007f1XX/99XnWs56VZcuW5dnPfnZuvvnmB8y/++67c+aZZ+aoo47KsmXLcvnll89a7eMJFAAAAGAWnXbaabn44otz77335sYbb8wzn/nMbX1PfepT8+Uvfzk33HBD/uAP/iBvf/vbHzD/ve99b4499thcf/31ueaaa/LmN785d99992yeQhKXPAAAAMCsOuKII7Ju3bpcdNFFOemkk+7Xd9ddd+WMM87ILbfckqrKpk2bHjD/yiuvzBVXXJH3v//9ScaeXvGDH/wghx566KzUv5VAAQAAAGbZySefnDe96U1ZsWJFNm7cuK393HPPzfOe97xcdtllWbduXY455pgHzG2t5dOf/nQOOeSQWaz4gQQKU+FxIwBMp0ncyAkA2D2ceeaZ2XfffXP44YdnxYoV29rvuuuubTdpvOCCCyace8IJJ+SDH/xgPvjBD6aqcsMNN2TZsmWzUPX9uYcCAAAAzLJFixblDW94wwPa3/KWt+Rtb3tbli1bls2bN08499xzz82mTZtyxBFHZMmSJTn33HNnutwJVdsFfg0ZGRlpo6Ojc11GPysUAJhOu8B3MgDsztasWTPr9xl4uJno36iqVrbWRrYfa4UCAAAA0E2gAAAAAHQTKAAAAADdBAoAAABAN4ECAAAA0E2gAAAAAHQTKAAAAMAsmTdvXpYuXbrttW7duhk71uLFi/OjH/1oxva/x4ztGQAAAHZhVdO7v9Z2PGafffbJqlWrpvfAc8QKBQAAAJhDK1euzHOf+9wceeSROeGEE3LHHXckSY455pj8zu/8TkZGRnLooYfmG9/4Rl784hfn4IMPzu///u9vm3/qqafmyCOPzJIlS3L++edPeIxPfvKTOeqoo7J06dK8+tWvzpYtW6Zct0ABAAAAZsk999yz7XKHF73oRdm0aVNe//rXZ/ny5Vm5cmXOPPPMvOMd79g2fq+99sro6Ghe85rX5JRTTsmHPvShrF69OhdccEE2btyYJPnYxz6WlStXZnR0NOedd9629q3WrFmTSy65JF/96lezatWqzJs3L5/61KemfC4ueQAAAIBZsv0lD6tXr87q1atz/PHHJ0m2bNmS/ffff1v/ySefnCQ5/PDDs2TJkm19T3nKU3LbbbdlwYIFOe+883LZZZclSW677bbccsstWbBgwbZ9XH311Vm5cmWe8YxnJBkLNZ70pCdN+VwmHShU1bwko0lub629sKoOSnJxkgVJVib5rdbav1bV3kk+nuTIJBuT/GZrbd2UKwUAAIDdTGstS5YsybXXXjth/957750kedSjHrVte+vnzZs3Z8WKFfnCF76Qa6+9No9+9KNzzDHH5N57733AMc4444y8733vm9baey55eGOSNeM+/1GSD7TWfjnJT5KcNbSfleQnQ/sHhnEAAADAdg455JBs2LBhW6CwadOm3HTTTZOef9ddd2W//fbLox/96Hz3u9/Ndddd94Axxx13XJYvX54777wzSfLjH/84t95665Rrn1SgUFWLkvx6kr8aPleSY5MsH4ZcmOTUYfuU4XOG/uOG8QAAAMA4e+21V5YvX563vvWtedrTnpal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\n","text/plain":["<Figure size 1296x432 with 1 Axes>"]},"metadata":{"needs_background":"light"}}],"source":["fig = plt.figure(figsize=(18,6))\n","\n","# create a plot of two subsets, male and female, of the survived variable.\n","# After that call value_counts() so it can be easily plotted as a bar graph. \n","# you can use kind='barh' argument. It is just a horizontal bar graph\n","\n","# Next adjust graph to display the proportions of survival by gender\n","genders = pd.unique(df.Sex)\n","survival = pd.unique(df.Survived)\n","\n","gender_split = [[len(df[(df.Sex == gender) & (df.Survived == surv)]) for surv in survival] for gender in genders]\n","plt.bar(name, gender_split[0], color='red', bottom= gender_split[1], label=\"Male\")\n","plt.bar(name, gender_split[1], color='blue', label=\"Female\")\n","plt.legend(loc=\"upper right\")"]},{"cell_type":"markdown","metadata":{"id":"sBEcGFBI3fBA"},"source":["Add your summaryabout recieved data for raw value counts and proportionally\n","\n","#### Try to go down even further:\n","Can we capture more of the structure by using Pclass? Here try to bucket classes as lowest class or any of the high classes (classes 1 - 2). 3 is lowest class. Break it down by Gender and what Class they were traveling in.\n"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"r4jXC0wM3fBA","colab":{"base_uri":"https://localhost:8080/","height":385},"executionInfo":{"status":"ok","timestamp":1644178041119,"user_tz":-180,"elapsed":993,"user":{"displayName":"Александр Коник","photoUrl":"https://lh3.googleusercontent.com/a-/AOh14Ghx-tzs65Dekj5kF6Q1BM2aaCFEo5PgwwUz8uQqBA=s64","userId":"12532542028112369951"}},"outputId":"84bcf6f4-c07e-4461-cc8e-d36be0b1466d"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["<matplotlib.legend.Legend at 0x7fb31fecb950>"]},"metadata":{},"execution_count":18},{"output_type":"display_data","data":{"image/png":"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\n","text/plain":["<Figure size 1296x432 with 1 Axes>"]},"metadata":{"needs_background":"light"}}],"source":["fig = plt.figure(figsize=(18,6))\n","classes = [\"Classes 1 - 2\", \"Class 3\"]\n","Women = [df[(df.Pclass <= 2) & (df.Sex==\"female\")].shape[0], df[(df.Pclass==3) & (df.Sex==\"female\")].shape[0]]\n","Men = [df[(df.Pclass <= 2) & (df.Sex==\"male\")].shape[0], df[(df.Pclass==3) & (df.Sex==\"male\")].shape[0]]\n","plt.bar(classes, Men, color='red', bottom=Women, label='Men')\n","plt.bar(classes, Women, color='blue', label='Women')\n","plt.legend(loc=\"upper right\")"]},{"cell_type":"markdown","metadata":{"id":"yEZPJBNqFWfq"},"source":["Try to get a conclusions of the recieved data"]},{"cell_type":"markdown","metadata":{"id":"XrSaN1KQ3fn1"},"source":[""]},{"cell_type":"code","execution_count":null,"metadata":{"id":"CjdgVG2_3fBC"},"outputs":[],"source":[""]},{"cell_type":"markdown","metadata":{"id":"yuV-b-Jvt1PI"},"source":["## Model train and evaluation\n","\n","\n","For all model at the end, additionaly generate:\n","Normalized Confusion matrix as:\n","```\n","\t\t                 Predicted\n","                     Survive\tNon-Survive\n","Actual    Survive        0.7       0.3\n","          Non-Survive    0.2       0.8\n","```\n","And metrics:\n","```\n","          Metrics\n","Recall    0.2232\n","Precision 0.0597\n","Accuracy  0.2100\n","F1 score  0.0398\n","```"]},{"cell_type":"markdown","metadata":{"id":"7MLXksFt3fBD"},"source":["## Supervised Machine Learning\n","#### Logistic Regression:\n","\n","\n","\n","Task is to predict a binary outcome. That is, it wants to know whether some will die, (represented as a 0), or survive, (represented as 1). A good place to start is to calculate the probability that an individual observation, or person, is likely to be a 0 or 1. That way we would know the chance that someone survives, and could start making somewhat informed predictions. If we did, we'd get results like this:: \n","\n","![pred](https://raw.github.com/agconti/kaggle-titanic/master/images/calc_prob.png) \n","\n","(*Y axis is the probability that someone survives, X axis is the passenger’s number from 1 to 891.*)\n","\n","While that information is useful it doesn’t let us know whether someone ended up alive or dead. It just lets us know the chance that they will survive or die. We still need to translate these probabilities into the binary decision we’re looking for. But how? We could arbitrarily say that our survival cutoff is anyone with a probability of survival over 50%. In fact, this tactic would actually perform pretty well for our data and would allow you to make decently accurate predictions. Graphically it would look something like this:\n","\n","![predwline](https://raw.github.com/agconti/kaggle-titanic/master/images/calc_prob_wline.png)\n","\n","What are the odds that setting that cutoff at 50% works? Maybe 20% or 80% would work better. Clearly we need a more exact way to make that cutoff. What can save the day? In steps the **Logistic Regression**. \n","\n","A logistic regression follows the all steps we took above but mathematically calculates the cutoff, or decision boundary (as stats nerds call it), for you. This way it can figure out the best cut off to choose, perhaps 50% or 51.84%, that most accurately represents the training data.\n","\n","Below, write down the process of creating a Logitist regression model with `LogisticRegression`, training it on the data, and examining its performance."]},{"cell_type":"code","execution_count":15,"metadata":{"id":"deeYakrn3fBF","colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"status":"ok","timestamp":1644240813406,"user_tz":-180,"elapsed":212,"user":{"displayName":"Александр Коник","photoUrl":"https://lh3.googleusercontent.com/a-/AOh14Ghx-tzs65Dekj5kF6Q1BM2aaCFEo5PgwwUz8uQqBA=s64","userId":"12532542028112369951"}},"outputId":"302ebe9f-d1e4-4ce3-9918-242c46dcc060"},"outputs":[{"output_type":"stream","name":"stdout","text":["              precision    recall  f1-score   support\n","\n","           0       0.56      0.70      0.62       204\n","           1       0.19      0.11      0.14       127\n","\n","    accuracy                           0.47       331\n","   macro avg       0.37      0.41      0.38       331\n","weighted avg       0.42      0.47      0.44       331\n","\n"]},{"output_type":"stream","name":"stderr","text":["/usr/local/lib/python3.7/dist-packages/sklearn/linear_model/_logistic.py:818: ConvergenceWarning: lbfgs failed to converge (status=1):\n","STOP: TOTAL NO. of ITERATIONS REACHED LIMIT.\n","\n","Increase the number of iterations (max_iter) or scale the data as shown in:\n","    https://scikit-learn.org/stable/modules/preprocessing.html\n","Please also refer to the documentation for alternative solver options:\n","    https://scikit-learn.org/stable/modules/linear_model.html#logistic-regression\n","  extra_warning_msg=_LOGISTIC_SOLVER_CONVERGENCE_MSG,\n"]}],"source":["models = list()\n","\n","def pr_data(data):\n","    data['Sex'] = data.Sex.apply(lambda x: 0 if x==\"female\" else 1)\n","    data['Embarked_C'] = data.Embarked.apply(lambda x: 1 if x=='C' else 0)\n","    data['Embarked_Q'] = data.Embarked.apply(lambda x: 1 if x=='Q' else 0)\n","    data['Embarked_S'] = data.Embarked.apply(lambda x: 1 if x=='S' else 0)\n","    return data\n","df = pr_data(df)\n","test_df = pd.read_csv('/content/sample_data/test.csv')\n","gs_df = pd.read_csv('/content/sample_data/gender_submission.csv')\n","test_titanic = pd.concat([gs_df, test_df], axis = 1)\n","test_titanic = test_titanic.drop(['Ticket', 'Cabin', 'PassengerId'], axis=1)\n","test_titanic = test_titanic.dropna()\n","test_titanic = pr_data(test_titanic)\n","features = ['Pclass', 'Sex', 'Age', 'SibSp', 'Parch', 'Fare', 'Embarked_C', 'Embarked_Q', 'Embarked_S']\n","X_train = df[features]\n","X_test = test_titanic[features]\n","y_train = df['Survived']\n","y_test = test_titanic['Survived']\n","logreg = LogisticRegression()\n","logreg.fit(X_train, y_train)\n","y_pred = logreg.predict(X_test)\n","models.append(logreg)\n","print(classification_report(y_test, y_pred))"]},{"cell_type":"code","execution_count":16,"metadata":{"id":"eqP3heYQ3fBF","colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"status":"ok","timestamp":1644240861920,"user_tz":-180,"elapsed":351,"user":{"displayName":"Александр Коник","photoUrl":"https://lh3.googleusercontent.com/a-/AOh14Ghx-tzs65Dekj5kF6Q1BM2aaCFEo5PgwwUz8uQqBA=s64","userId":"12532542028112369951"}},"outputId":"63787ba7-404e-43e6-a6bc-cb16cb5914ed"},"outputs":[{"output_type":"stream","name":"stdout","text":["Normalized Confusion matrix \n","\n","0.11  \t 0.89\n","0.3  \t 0.7\n"]}],"source":["# Plot Predictions Vs Actual\n","\n","def conf_matrix(y_test, y_pred):\n","    NCM = confusion_matrix(y_test, y_pred, normalize='true', labels = [1,0])\n","    print('Normalized Confusion matrix \\n')\n","    print(round(NCM[0][0], 2), ' \\t', round(NCM[0][1], 2))\n","    print(round(NCM[1][0], 2), ' \\t', round(NCM[1][1], 2))\n","\n","conf_matrix(y_test, y_pred)"]},{"cell_type":"markdown","metadata":{"id":"5DKw49Rr3fBL"},"source":["### Support Vector Machine (SVM)\n","\n","\n","The logit model showed exactly where to draw our decision boundary or our 'survival cut off'. A linear line is okay, but can prediction be better? Perhaps a more complex decision boundary like a wave, circle, or maybe some sort of strange polygon would describe the variance observed in our sample better than a line.\n","\n","Below implement a SVM model based on `sklearn.svm.SVC` and examining the results after the SVM transforms an equation into three different mathematical plains. The first is linear, and is similar to our logic model. Next is an exponential, polynomial, transformation and finally a blank transformation.\n"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"2XU5FihKRakX"},"outputs":[],"source":[""]},{"cell_type":"markdown","metadata":{"id":"BwJyqyhF3fBN"},"source":["### Random Forest\n","\n","the Random Forest technique is a form of non-parametric modeling that does away with all those equations created above, and uses raw computing power and a clever statistical observation to tease the structure out of the data. \n","\n","**How do they work?** A random forest algorithm randomly generates many extremely simple models to explain the variance observed in random subsections of our data. These models are like appraisal guesses. They are all awful individually. Really awful. But once they are averaged, they can be powerful predictive tools. The averaging step is the secret sauce. While the vast majority of those models were extremely poor; they were all as bad as each other on average. So when their predictions are averaged together, the bad ones average their effect on our model out to zero. The thing that remains, *if anything*, is one or a handful of those models have stumbled upon the true structure of the data.\n","\n","Below implement your model of random forest with `RandomForestClassifier`, generating predictions form the resulting model, and then scoring the results."]},{"cell_type":"code","execution_count":17,"metadata":{"id":"ekx9kVAOTOKk","colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"status":"ok","timestamp":1644240908826,"user_tz":-180,"elapsed":564,"user":{"displayName":"Александр Коник","photoUrl":"https://lh3.googleusercontent.com/a-/AOh14Ghx-tzs65Dekj5kF6Q1BM2aaCFEo5PgwwUz8uQqBA=s64","userId":"12532542028112369951"}},"outputId":"611ffe68-2007-4d85-f74c-8a8302b7ce22"},"outputs":[{"output_type":"stream","name":"stdout","text":["              precision    recall  f1-score   support\n","\n","           0       0.68      0.61      0.64       204\n","           1       0.46      0.54      0.49       127\n","\n","    accuracy                           0.58       331\n","   macro avg       0.57      0.57      0.57       331\n","weighted avg       0.59      0.58      0.58       331\n","\n","Normalized Confusion matrix \n","\n","0.54  \t 0.46\n","0.39  \t 0.61\n"]}],"source":["rand_forest = RandomForestClassifier()\n","rand_forest.fit(X_train, y_train)\n","y_pred = rand_forest.predict(X_test)\n","models.append(rand_forest)\n","print(classification_report(y_test, y_pred))\n","conf_matrix(y_test, y_pred)"]},{"cell_type":"markdown","metadata":{"id":"NT6kO9UQsQit"},"source":["# Additional tasks\n","\n","*   Plot ROC curve for implemented models\n","*   Implement prediction using another model, such as the k-nearest neighbors algorithm, decision tree classifier, gaussian naive bayes, neural network etc. Or maybe try to use sklearn.model_selection.GridSearchCV based on already implemented models.\n","\n","\n","\n"]}],"metadata":{"colab":{"collapsed_sections":[],"name":"Titanic_template.ipynb.txt","provenance":[]},"kernelspec":{"display_name":"Python 3","name":"python3"},"language_info":{"name":"python"}},"nbformat":4,"nbformat_minor":0}